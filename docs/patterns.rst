Паттерны проектирования, используемые в dmess
=============================================

--------------------------------
**MVT, или Model-View-Template**
--------------------------------

Паттерн, используемый в django. Представляет собой набор
моделей (models), представлений (views) и шаблонов (templates).

Основан на паттерне MVC (Model-View-Controller).

Как работает схема MVC?

- Модель (Model) предоставляет данные и реагирует на команды контроллера, изменяя своё состояние.
- Представление (View) отвечает за отображение данных модели пользователю, реагируя на изменения модели.
- Контроллер (Controller) интерпретирует действия пользователя, оповещая модель о необходимости изменений.

Model в MVT соответствует таковая в MVC, View соответствует
Controller, а Template - View.

Подробнее:

- https://ru.wikipedia.org/wiki/Model-View-Controller
- https://docs.djangoproject.com/en/3.0/#the-model-layer

В dmess он представлен файлами models.py и views.py, две пары
которых находятся в папках **admin/** и **main/**, а также папкой
**templates/** в корне проекта.

-------------------------
**Декоратор (Decorator)**
-------------------------

Структурный паттерн проектирования, который позволяет
динамически добавлять объектам новую функциональность,
оборачивая их в полезные «обёртки».

Подробнее: https://refactoring.guru/ru/design-patterns/decorator

В языке Python существует особый синтактис для «оборачивания»
функций с помощью функций-декораторов.

Пример:

.. code-block:: python3

    @decorate_function
    def function(*args, **kwargs):
        # Тело декорируемой функции

    # Декорирующая функция (декоратор)
    def decorate_function(func):
        # Функция-обёртка
        def wrapper():
            print('До вызова функции')
            func()
            print('После вызова функции')
        return wrapper

В dmess используются как стандартные декораторы из python
(**@classmethod** в классе :class:`MyTokenObtainPairSerializer`,
файл serializers.py), так и, например, декораторы из
django rest framework (**@action** в классах :class:`CountModelMixin`,
:class:`UserViewSet` и :class:`DialogViewSet`, файл views.py).

----------------------------------
**MVVM, или Model-View-ViewModel**
----------------------------------

Шаблон проектирования, на котором основан **Vue.js**, JavaScript-фреймворк,
используемый в dmess.

Подробнее про **Vue.js**:

- https://ru.wikipedia.org/wiki/Vue.js
- https://ru.vuejs.org/

Шаблон MVVM делится на три части:

- Модель (Model) (так же, как в классической MVC) представляет собой логику работы с данными
  и описание фундаментальных данных, необходимых для работы приложения.
- Представление (View) — графический интерфейс (окна, списки, кнопки и т. п.). Выступает
  подписчиком на событие изменения значений свойств или команд, предоставляемых Моделью
  Представления.
- Модель Представления (ViewModel) — с одной стороны, абстракция Представления, а с другой -
  обёртка данных из Модели, подлежащиx связыванию.

Подробнее про **MVVM**:

- https://ru.wikipedia.org/wiki/Model-View-ViewModel

В dmess файлы **Vue.js** находятся в папке **frontend/src/**.

----------------------------------
**DRF, или Django REST Framework**
----------------------------------

Фреймворк, работающий со стандартными моделями Django
для создания гибкого и мощного API для проекта.

Архитектура DRF:

- Сериализатор (Serializer): преобразует информацию, хранящуюся
  в базе данных и определенную с помощью моделей Django,
  в формат JSON, который легко и эффективно передаётся через API.
- Вид (View, ViewSet): определяет функции (чтение, создание, обновление,
  удаление), которые будут доступны через API.
- Маршрутизатор (Router): определяет URL-адреса, которые будут
  предоставлять доступ к каждому виду.

Подробнее о DRF:

- https://www.django-rest-framework.org/
- https://django.fun/tutorials/kratko-o-django-rest-framework/

Об архитектурном стиле REST:

- https://ru.wikipedia.org/wiki/REST
